<!-- 
    Takes a dependency definition inside of a class and loads the "components" via a semi-absolute mechanism.

    Provide a class with the following static property: 

            class MyElement extends ClassLoader(Polymer.Element) {
                static get is() {
                    return 'my-element';
                }

                static get dependencies() {
                    return [
                        "app-model",
                        "app-view",
                        "app-controller"
                    ]
                }
            }
 -->
<script>
    (function () {
        const ClassMap = [
                {
                    "element": "app-home",
                    "source": "src/app/pages/app-home.html"
                },
                {
                    "element": "app-model",
                    "source": "src/app/app-model.html"
                },
                {
                    "element": "app-view",
                    "source": "src/app/app-view.html"
                },
                {
                    "element": "app-controller",
                    "source": "src/app/app-controller.html"
                },
            ];


        ClassLoader = function (superClass) {
            return class extends superClass {
                constructor() {
                    super();
                    // let dependencies = this.constructor.dependencies;
                    // Shortcut
                    let dependencies = this.constructor.depends;
                    
                    
                    for(let i=0; i < dependencies.length; i++) {
                        let dependency = dependencies[i];
                        for(let index in ClassMap) {
                            let source = ClassMap[index].source;
                            let element = ClassMap[index].element;
                            if(element == dependency) {
                                Polymer.importHref(this.resolveUrl(Polymer.rootPath + source));
                            }
                        }

                    }
                }
            }
        }
    })();
</script>